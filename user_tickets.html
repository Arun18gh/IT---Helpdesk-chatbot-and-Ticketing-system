{% extends "base.html" %}
{% block content %}

<h2 style="text-align: center; margin-top: 2rem;">🎟️ My Submitted Tickets</h2>

<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 2rem; margin-top: 2rem;">
  {% for ticket in tickets %}
    <div style="background: #fdfdfd; border-radius: 8px; padding: 1.5rem; width: 300px;
                box-shadow: 0 2px 5px rgba(0,0,0,0.1); color: #000;">
      <p><strong>📝 Title:</strong> {{ ticket.issue_title }}</p>
      <p><strong>🧾 Description:</strong> {{ ticket.issue_detail }}</p>
      <p><strong>⚠️ Priority:</strong> {{ ticket.priority }}</p>
      <p><strong>🏢 Department:</strong> {{ ticket.department }}</p>
      <p><strong>📅 Submitted On:</strong> {{ ticket.created_at }}</p>
      <p><strong>Status:</strong> {{ ticket.status if ticket.status else 'Open' }}</p>

      <a href="{{ url_for('view_ticket', ticket_id=ticket.ticket_code) }}"
         style="display: block; margin-top: 1rem; background: #007bff; color: white;
                padding: 8px 12px; border-radius: 4px; text-align: center;
                text-decoration: none;">🔍 View Ticket</a>
    </div>
  {% else %}
    <p style="text-align: center; color: white;">No tickets submitted yet.</p>
  {% endfor %}
</div>

{% endblock %}
